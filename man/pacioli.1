.TH PACIOLI 1 "2025-12-31" "pacioli 1.1.0" "User Commands"
.SH NAME
pacioli \- generate LaTeX financial reports from Ledger CLI journal files
.SH SYNOPSIS
.B pacioli
[\fB\-c\fR \fICONFIG\fR]
\fICOMMAND\fR
[\fIOPTIONS\fR]
[\fIARGS\fR]
.SH DESCRIPTION
.B Pacioli
transforms Ledger CLI journal files into professionally typeset financial statements using LaTeX. Named after Luca Pacioli, the father of accounting and double-entry bookkeeping, it generates publication-ready balance sheets, income statements, and cash flow reports with customizable templates.
.PP
Reports are generated using customizable Jinja2 templates with special delimiters designed for LaTeX compatibility. The tool executes Ledger CLI commands via subprocess and formats the output into structured financial statements.
.SH OPTIONS
.TP
.BR \-\-version
Show version number and exit.
.TP
.BR \-c ", " \-\-config " " \fIPATH\fR
Specify path to configuration file.
.br
Default: \fI~/.config/pacioli/config.yml\fR
.TP
.BR \-h ", " \-\-help
Show help message and exit.
.SH COMMANDS
.SS "balance-sheet"
Run a balance sheet report using the account mappings defined in the config file. Generates a point-in-time snapshot of assets, liabilities, and equity.
.PP
.B pacioli
balance-sheet
[\fB\-e\fR \fIDATE\fR]
[\fIOUT_FILE\fR]
.PP
.B Arguments:
.RS
.TP
.I OUT_FILE
Path to write the LaTeX file. Defaults to standard output if not specified. Use '\fB-\fR' for explicit stdout.
.RE
.PP
.B Options:
.RS
.TP
.BR \-e ", " \-\-end-date " " \fIDATE\fR
Limit the report to transactions before the specified date.
.RE
.SS "income-statement"
Run an income statement for a set time period. Generates a period-based revenue and expense summary.
.PP
.B pacioli
income-statement
[\fB\-b\fR \fIDATE\fR]
[\fB\-e\fR \fIDATE\fR]
[\fB\-m\fR \fIMONTH\fR]
[\fB\-p\fR \fIPERIOD\fR]
[\fIOUT_FILE\fR]
.PP
.B Arguments:
.RS
.TP
.I OUT_FILE
Path to write the LaTeX file. Defaults to standard output if not specified. Use '\fB-\fR' for explicit stdout.
.RE
.PP
.B Options:
.RS
.TP
.BR \-b ", " \-\-begin-date " " \fIDATE\fR
Start date for transactions.
.TP
.BR \-e ", " \-\-end-date " " \fIDATE\fR
Limit the report to transactions before the specified date.
.TP
.BR \-m ", " \-\-month " " \fIMONTH\fR
.B (DEPRECATED)
Use --period instead. Limit report to a specific month. When specified, overrides begin-date and end-date.
.TP
.BR \-p ", " \-\-period " " \fIPERIOD\fR
Specify a time period using natural language. When specified, overrides all other date options. Supported formats:
.RS
.IP \(bu 3
\fBlast month\fR, \fBthis month\fR
.IP \(bu 3
\fBJan to Mar\fR (month ranges without year - uses current year for end date, handles year rollovers automatically)
.IP \(bu 3
\fBJan 2024 to Mar 2024\fR (month ranges with explicit years, full or abbreviated names)
.IP \(bu 3
\fBJanuary 2024\fR (single month with year)
.IP \(bu 3
\fB2024/01/15 to 2024/03/31\fR (explicit date ranges)
.RE
.PP
.B Note on year rollovers:
When using month ranges without years (e.g., \fBDec to January\fR), the current year is used for the end month. If the end month comes before the start month, the start month uses the previous year. For example, running \fBDec to January\fR in January 2026 gives December 2025 to January 2026.
.RE
.PP
.B Note:
At least one of --begin-date/--end-date, --month, or --period must be specified.
.SS "cash-flow-statement"
Run a cash flow statement for a set time period using the direct method. Generates a cash-basis report of inflows and outflows.
.PP
.B pacioli
cash-flow-statement
[\fB\-b\fR \fIDATE\fR]
[\fB\-e\fR \fIDATE\fR]
[\fB\-m\fR \fIMONTH\fR]
[\fB\-p\fR \fIPERIOD\fR]
[\fIOUT_FILE\fR]
.PP
.B Arguments:
.RS
.TP
.I OUT_FILE
Path to write the LaTeX file. Defaults to standard output if not specified. Use '\fB-\fR' for explicit stdout.
.RE
.PP
.B Options:
.RS
.TP
.BR \-b ", " \-\-begin-date " " \fIDATE\fR
Start date for transactions.
.TP
.BR \-e ", " \-\-end-date " " \fIDATE\fR
Limit the report to transactions before the specified date.
.TP
.BR \-m ", " \-\-month " " \fIMONTH\fR
.B (DEPRECATED)
Use --period instead. Limit report to a specific month. When specified, overrides begin-date and end-date.
.TP
.BR \-p ", " \-\-period " " \fIPERIOD\fR
Specify a time period using natural language. When specified, overrides all other date options. See income-statement command for supported period formats.
.RE
.PP
.B Note:
At least one of --begin-date/--end-date, --month, or --period must be specified.
.PP
The cash flow statement uses the \fBdirect method\fR and leverages Ledger's \fB--related\fR flag to ensure only cash-basis transactions are included. This means credit card purchases (liabilities) are excluded, and only transactions that directly affect cash accounts are included. The statement reconciles: Beginning Cash + Net Change = Ending Cash.
.PP
The statement categorizes cash flows into three activities:
.RS
.IP \(bu 3
\fBOperating Activities\fR: Day-to-day business operations (income and expenses)
.IP \(bu 3
\fBInvesting Activities\fR: Long-term asset purchases and sales
.IP \(bu 3
\fBFinancing Activities\fR: Debt and equity transactions
.RE
.SH CONFIGURATION
Pacioli uses YAML configuration files to define report settings. The default location is
.IR ~/.config/pacioli/config.yml
(respects
.IR XDG_CONFIG_HOME ).
.PP
Configuration files define:
.RS
.IP \(bu 3
Journal file path
.IP \(bu 3
Template paths for reports
.IP \(bu 3
Account category mappings (Current Assets, Long-term Assets, Secured/Unsecured Liabilities)
.IP \(bu 3
Title and behavior flags
.IP \(bu 3
Market value conversion for commodities (stocks, cryptocurrencies, etc.)
.RE
.PP
.B Configuration Options:
.RS
.TP
.B DEBUG
Enable debug logging (true/false)
.TP
.B journal_file
Path to Ledger CLI journal file
.TP
.B balance_sheet_template
Path to balance sheet LaTeX template
.TP
.B income_sheet_template
Path to income statement LaTeX template
.TP
.B cash_flow_template
Path to cash flow statement LaTeX template
.TP
.B effective
Use effective dates instead of actual transaction dates (true/false)
.TP
.B cleared
Only include cleared transactions (true/false)
.TP
.B market
Convert commodities to market values. Set to
.B true
to use Ledger's
.B --market
flag (converts to default currency), or specify a currency string (e.g.,
.B "$"
or
.B "USD"
) to use
.B --exchange
flag for conversion to a specific currency. When disabled or omitted, commodity accounts (like stock portfolios) will show share counts instead of dollar values, which can cause incorrect totals in balance sheets.
.TP
.B title
Title to appear on all reports
.RE
.SH TEMPLATES
Reports are generated using Jinja2 templates with custom delimiters for LaTeX compatibility:
.RS
.IP \(bu 3
Block: \fBBLOCK{...}\fR
.IP \(bu 3
Variable: \fB\\VAR{...}\fR
.IP \(bu 3
Comment: \fB\\#{...}\fR
.IP \(bu 3
Line statement: \fB%%\fR
.RE
.PP
Templates receive dictionaries with account short names (derived from the final segment of the account path) and formatted balances.
.SH SHELL COMPLETION
Pacioli includes shell completion support for both Bash and Zsh. Completions provide tab completion for subcommands, options, and file paths.
.PP
.B Installation for Bash:
.PP
Dynamic completion (add to
.IR ~/.bashrc ):
.RS
.nf
eval "$(_PACIOLI_COMPLETE=bash_source pacioli)"
.fi
.RE
.PP
Static completion (user-level):
.RS
.nf
mkdir -p ~/.local/share/bash-completion/completions
cp /path/to/pacioli/completions/pacioli-complete.bash \\
    ~/.local/share/bash-completion/completions/pacioli
.fi
.RE
.PP
Static completion (system-wide):
.RS
.nf
sudo cp /path/to/pacioli/completions/pacioli-complete.bash \\
    /usr/share/bash-completion/completions/pacioli
.fi
.RE
.PP
.B Installation for Zsh:
.PP
Dynamic completion (add to
.IR ~/.zshrc ):
.RS
.nf
eval "$(_PACIOLI_COMPLETE=zsh_source pacioli)"
.fi
.RE
.PP
Static completion (user-level):
.RS
.nf
mkdir -p ~/.local/share/zsh/site-functions
cp /path/to/pacioli/completions/pacioli-complete.zsh \\
    ~/.local/share/zsh/site-functions/_pacioli
.fi
.RE
.PP
Then add to
.IR ~/.zshrc :
.RS
.nf
fpath=(~/.local/share/zsh/site-functions $fpath)
.fi
.RE
.PP
Static completion (system-wide):
.RS
.nf
sudo cp /path/to/pacioli/completions/pacioli-complete.zsh \\
    /usr/share/zsh/site-functions/_pacioli
.fi
.RE
.PP
.B Note:
After installation, restart your shell or run
.B source ~/.bashrc
(or
.B source ~/.zshrc
for Zsh) for completions to take effect.
.SH EXAMPLES
.PP
Generate a balance sheet for year-end:
.RS
.nf
pacioli balance-sheet -e 2024-12-31 balance_sheet.tex
.fi
.RE
.PP
Generate an income statement for a specific month:
.RS
.nf
pacioli income-statement -m January income.tex
.fi
.RE
.PP
Generate an income statement for a date range:
.RS
.nf
pacioli income-statement -b 2024-01-01 -e 2024-12-31 income.tex
.fi
.RE
.PP
Generate an income statement for last month using natural language:
.RS
.nf
pacioli income-statement --period "last month" income.tex
.fi
.RE
.PP
Generate an income statement for Q1 of current year:
.RS
.nf
pacioli income-statement --period "Jan to Mar" income.tex
.fi
.RE
.PP
Generate a cash flow statement for Q1 2024:
.RS
.nf
pacioli cash-flow-statement --period "Jan 2024 to Mar 2024" cashflow.tex
.fi
.RE
.PP
Generate a report spanning year end (Dec 2025 to Jan 2026):
.RS
.nf
pacioli income-statement --period "Dec to January" income.tex
.fi
.RE
.PP
Generate a cash flow statement and output to stdout:
.RS
.nf
pacioli cash-flow-statement -m December - | pdflatex
.fi
.RE
.PP
Use a custom configuration file:
.RS
.nf
pacioli -c ~/my-config.yml balance-sheet balance_sheet.tex
.fi
.RE
.PP
.B Example configuration file with commodity market conversion:
.RS
.nf
DEBUG: False
journal_file: "~/.ledger/main.ldg"
balance_sheet_template: "templates/balance_sheet.tex"
income_sheet_template: "templates/income_statement.tex"
cash_flow_template: "templates/cash_flow_statement.tex"
effective: False
cleared: False
market: True  # Convert stocks/crypto to market values
title: "My Company LLC"

Current Assets:
  - Assets:Current:Checking
  - Assets:Current:Savings

Longterm Assets:
  - Assets:Investments:Brokerage  # Stocks will be valued at market price
  - Assets:Noncurrent:Real Estate
.fi
.RE
.SH FILES
.TP
.I ~/.config/pacioli/config.yml
Default configuration file location
.SH DEPENDENCIES
.TP
.B Ledger CLI
Required for processing journal files. Must be installed and accessible in PATH.
.TP
.B LaTeX
Required for rendering the generated .tex files to PDF format.
.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
General error (invalid arguments, missing configuration, etc.)
.SH BUGS
Report bugs at:
.UR https://github.com/paris3200/pacioli/issues
.UE
.SH AUTHOR
Written by Jason Paris.
.SH COPYRIGHT
Copyright \(co 2025 Jason Paris.
.br
License: MIT License
.SH SEE ALSO
.BR ledger (1),
.BR pdflatex (1)
.PP
Full documentation and examples:
.UR https://github.com/paris3200/pacioli
.UE
